<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/halchemy/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/halchemy/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li:not(:nth-child(7)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(7) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(7) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(7) > ul.nav-list { display: block; } </style> <script src="/halchemy/assets/js/vendor/lunr.min.js"></script> <script src="/halchemy/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/halchemy/favicon.ico" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Handling Errors | halchemy</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="Handling Errors" /> <meta name="author" content="Michael Ottoson" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="A simple but powerful library for consuming HAL based APIs. Create an Api object with the URL to the API, then with a simple approach follow the links from resource to resource, and access each affordance. Optimized for developer convenience without sacrificing fine-grained control. An excellent client library for use with hypermea based APIs. Each supported language follows idiomatic conventions." /> <meta property="og:description" content="A simple but powerful library for consuming HAL based APIs. Create an Api object with the URL to the API, then with a simple approach follow the links from resource to resource, and access each affordance. Optimized for developer convenience without sacrificing fine-grained control. An excellent client library for use with hypermea based APIs. Each supported language follows idiomatic conventions." /> <link rel="canonical" href="http://0.0.0.0:4000/halchemy/errors/" /> <meta property="og:url" content="http://0.0.0.0:4000/halchemy/errors/" /> <meta property="og:site_name" content="halchemy" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Handling Errors" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Michael Ottoson"},"description":"A simple but powerful library for consuming HAL based APIs. Create an Api object with the URL to the API, then with a simple approach follow the links from resource to resource, and access each affordance. Optimized for developer convenience without sacrificing fine-grained control. An excellent client library for use with hypermea based APIs. Each supported language follows idiomatic conventions.","headline":"Handling Errors","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://0.0.0.0:4000/halchemy/assets/img/halchemy.png"},"name":"Michael Ottoson"},"url":"http://0.0.0.0:4000/halchemy/errors/"}</script> <!-- End Jekyll SEO tag --> <link rel="stylesheet" href="/halchemy/assets/css/tab-styles.css"> <script src="/halchemy/assets/js/tabs.js"></script> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Handling Errors | halchemy</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="Handling Errors" /> <meta name="author" content="Michael Ottoson" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="A simple but powerful library for consuming HAL based APIs. Create an Api object with the URL to the API, then with a simple approach follow the links from resource to resource, and access each affordance. Optimized for developer convenience without sacrificing fine-grained control. An excellent client library for use with hypermea based APIs. Each supported language follows idiomatic conventions." /> <meta property="og:description" content="A simple but powerful library for consuming HAL based APIs. Create an Api object with the URL to the API, then with a simple approach follow the links from resource to resource, and access each affordance. Optimized for developer convenience without sacrificing fine-grained control. An excellent client library for use with hypermea based APIs. Each supported language follows idiomatic conventions." /> <link rel="canonical" href="http://0.0.0.0:4000/halchemy/errors/" /> <meta property="og:url" content="http://0.0.0.0:4000/halchemy/errors/" /> <meta property="og:site_name" content="halchemy" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Handling Errors" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Michael Ottoson"},"description":"A simple but powerful library for consuming HAL based APIs. Create an Api object with the URL to the API, then with a simple approach follow the links from resource to resource, and access each affordance. Optimized for developer convenience without sacrificing fine-grained control. An excellent client library for use with hypermea based APIs. Each supported language follows idiomatic conventions.","headline":"Handling Errors","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://0.0.0.0:4000/halchemy/assets/img/halchemy.png"},"name":"Michael Ottoson"},"url":"http://0.0.0.0:4000/halchemy/errors/"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/halchemy/" class="site-title lh-tight"> <div class="site-logo" role="img" aria-label="halchemy"></div> </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in The Basics category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/halchemy/basics/" class="nav-list-link">The Basics</a><ul class="nav-list"><li class="nav-list-item"><a href="/halchemy/basics/examples" class="nav-list-link">Examples</a></li><li class="nav-list-item"><a href="/halchemy/basics/terms" class="nav-list-link">Key Terms</a></li></ul></li><li class="nav-list-item"><a href="/halchemy/configuration/" class="nav-list-link">Configuration</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Request Headers category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/halchemy/headers/" class="nav-list-link">Request Headers</a><ul class="nav-list"><li class="nav-list-item"><a href="/halchemy/headers/default" class="nav-list-link">Default Headers</a></li><li class="nav-list-item"><a href="/halchemy/headers/per_request" class="nav-list-link">Per Request Headers</a></li></ul></li><li class="nav-list-item"><a href="/halchemy/parameters/" class="nav-list-link">Query String Parameters</a></li><li class="nav-list-item"><a href="/halchemy/templates/" class="nav-list-link">Templated Links</a></li><li class="nav-list-item"><a href="/halchemy/concurrency/" class="nav-list-link">Optimistic Concurrency</a></li><li class="nav-list-item"><a href="/halchemy/errors/" class="nav-list-link">Handling Errors</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Deprecated API category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/halchemy/deprecated/" class="nav-list-link">Deprecated API</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Methods category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/halchemy/deprecated/methods/" class="nav-list-link">Methods</a><ul class="nav-list"><li class="nav-list-item"> <a href="/halchemy/methods/get" class="nav-list-link">GET</a> </li><li class="nav-list-item"> <a href="/halchemy/deprecated/methods/get_from_rel" class="nav-list-link">GET from rel</a> </li><li class="nav-list-item"> <a href="/halchemy/deprecated/methods/post_to_rel" class="nav-list-link">POST to rel</a> </li><li class="nav-list-item"> <a href="/halchemy/deprecated/methods/delete_resource" class="nav-list-link">DELETE resource</a> </li><li class="nav-list-item"> <a href="/halchemy/deprecated/methods/patch_resource" class="nav-list-link">PATCH resource</a> </li><li class="nav-list-item"> <a href="/halchemy/deprecated/methods/put_to_rel" class="nav-list-link">PUT to rel</a> </li><li class="nav-list-item"> <a href="/halchemy/deprecated/methods/get_from_rel_with_lookup" class="nav-list-link">GET from rel with lookup</a> </li><li class="nav-list-item"> <a href="/halchemy/deprecated/methods/post_to_url" class="nav-list-link">POST to URL</a> </li><li class="nav-list-item"> <a href="/halchemy/deprecated/methods/delete_url" class="nav-list-link">DELETE URL</a> </li><li class="nav-list-item"> <a href="/halchemy/deprecated/methods/url_from_rel" class="nav-list-link">URL from rel</a> </li></ul></li><li class="nav-list-item"><a href="/halchemy/deprecated/errors" class="nav-list-link">Handling Errors</a></li><li class="nav-list-item"><a href="/halchemy/deprecated/headers" class="nav-list-link">Request Headers</a></li><li class="nav-list-item"><a href="/halchemy/deprecated/parameters" class="nav-list-link">Query String Parameters</a></li><li class="nav-list-item"><a href="/halchemy/deprecated/templates" class="nav-list-link">Templated Links</a></li><li class="nav-list-item"><a href="/halchemy/deprecated/concurrency" class="nav-list-link">Optimistic Concurrency</a></li></ul></li></ul> </nav> <p class="version-number">Version 1.0.1</p> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search halchemy" aria-label="Search halchemy" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <h1 id="handling-errors"> <a href="#handling-errors" class="anchor-heading" aria-labelledby="handling-errors"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Handling Errors </h1> <p>When you make a request to the API there is a possibility the it will not succeed. There are, generally speaking, two ways in which things could go wrong:</p> <ol> <li>The request did not receive a response (network error)</li> <li>The request received a response, but the response was not what you were expecting (status code error)</li> </ol> <p>By default, halchemy will raise an exception in the event of network errors. When the API responses with a status code you were not expecting, halchemy assumes the request/response was successful and lets you decide how to handle a non 2xx status code.</p> <ul> <li><a href="#default-configuration">Default configuration</a> <ul> <li><a href="#network-errors">Network errors</a></li> <li><a href="#status-codes">Status Codes</a></li> </ul> </li> <li><a href="#per-call-raise-for-status-code">Per call raise for status code</a></li> </ul> <h2 id="default-configuration"> <a href="#default-configuration" class="anchor-heading" aria-labelledby="default-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default configuration </h2> <p>You can change this default behaviour: There are two settings you can change to control how errors are handled.</p> <h3 id="network-errors"> <a href="#network-errors" class="anchor-heading" aria-labelledby="network-errors"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Network errors </h3> <p>When there is a network error, your request did not receive a response. By default, halchemy will raise an exception in this case. You change by setting “raise on network failure” to false. Now, when there is a network error, halchemy will not raise an exception. You can check for this by looking at <code class="language-plaintext highlighter-rouge">resource._halchemy.error</code></p> <ul id="example1" class="tab" data-tab="f9202ee7-2b06-4352-a295-1f5bb712f763" data-name="example1"> <li class="active" id="example1-python"> <a href="#">Python </a> </li> <li id="example1-javascript"> <a href="#">JavaScript </a> </li> </ul> <ul class="tab-content" id="f9202ee7-2b06-4352-a295-1f5bb712f763" data-name="example1"> <li class="active"> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">halchemy</span> <span class="kn">import</span> <span class="n">Api</span>

<span class="n">api</span> <span class="o">=</span> <span class="nc">Api</span><span class="p">(</span><span class="sh">'</span><span class="s">http://non-existent-server</span><span class="sh">'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="n">error_handling</span><span class="p">.</span><span class="n">raise_on_network_failure</span> <span class="o">=</span> <span class="bp">False</span>

<span class="n">resource</span> <span class="o">=</span> <span class="n">api</span><span class="p">.</span><span class="n">root</span><span class="p">.</span><span class="nf">get</span><span class="p">()</span>
<span class="k">if</span> <span class="n">resource</span><span class="p">.</span><span class="n">_halchemy</span><span class="p">.</span><span class="n">error</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">a network error occurred</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div> </li> <li> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">{</span><span class="nx">Api</span><span class="p">}</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">halchemy</span><span class="dl">'</span><span class="p">)</span>

<span class="kd">const</span> <span class="nx">api</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Api</span><span class="p">(</span><span class="dl">'</span><span class="s1">http://non-existent-server</span><span class="dl">'</span><span class="p">)</span>
<span class="nx">api</span><span class="p">.</span><span class="nx">errorHandling</span><span class="p">.</span><span class="nx">raiseOnNetworkFailure</span> <span class="o">=</span> <span class="kc">false</span>

<span class="kd">const</span> <span class="nx">resource</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">root</span><span class="p">.</span><span class="nf">get</span><span class="p">()</span>
<span class="k">if </span><span class="p">(</span><span class="nx">resource</span><span class="p">.</span><span class="nx">_halchemy</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">a network error occurred</span><span class="dl">'</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div> </li> </ul> <h3 id="status-codes"> <a href="#status-codes" class="anchor-heading" aria-labelledby="status-codes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Status Codes </h3> <p>By default, if the API successfully receives the request and successfully delivers a response, that is considered a success - even if the status code of the response is not what your code is expecting. Most HTTP libraries behave this way, but some (like Axios) will throw an exception if the status code is not 2xx.</p> <p>You can decide, however, which status codes you want halchemy to consider as errors and thus raise an exception. You do this by setting the “raise on status codes” to indicate which status codes are errors.</p> <p>To indicate a set of status codes, use a combination of ranges, individual status codes, and greater-than/less-than symbols.</p> <p>A common problem with those HTTP libraries which throw on non 2xx is if you are performing a search and you know there may be no results (i.e. a status code of 404) you may not want to have the request throw an exception - but you do want to for all other non-2xx codes. Here is how you can tell halchemy this is what you want:</p> <ul id="example2" class="tab" data-tab="58f6322c-0390-40f5-a0d4-6a151b5eaf2c" data-name="example2"> <li class="active" id="example2-python"> <a href="#">Python </a> </li> <li id="example2-javascript"> <a href="#">JavaScript </a> </li> </ul> <ul class="tab-content" id="58f6322c-0390-40f5-a0d4-6a151b5eaf2c" data-name="example2"> <li class="active"> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">halchemy</span> <span class="kn">import</span> <span class="n">Api</span>

<span class="n">api</span> <span class="o">=</span> <span class="nc">Api</span><span class="p">(</span><span class="sh">'</span><span class="s">http://example.org/api</span><span class="sh">'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="n">error_handling</span><span class="p">.</span><span class="n">raise_on_status_codes</span> <span class="o">=</span> <span class="sh">'</span><span class="s">400-403, &gt;404</span><span class="sh">'</span>

<span class="n">root</span> <span class="o">=</span> <span class="n">api</span><span class="p">.</span><span class="n">root</span><span class="p">.</span><span class="nf">get</span><span class="p">()</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">resource</span> <span class="o">=</span> <span class="n">api</span><span class="p">.</span><span class="nf">follow</span><span class="p">(</span><span class="n">root</span><span class="p">).</span><span class="nf">to</span><span class="p">(</span><span class="sh">'</span><span class="s">search</span><span class="sh">'</span><span class="p">).</span><span class="nf">get</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">resource</span><span class="p">.</span><span class="n">_halchemy</span><span class="p">.</span><span class="n">response</span><span class="p">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">404</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">no results found</span><span class="sh">'</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">results found</span><span class="sh">'</span><span class="p">,</span> <span class="n">resource</span><span class="p">)</span>
<span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">an error occurred</span><span class="sh">'</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
</code></pre></div></div> </li> <li> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">{</span><span class="nx">Api</span><span class="p">}</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">halchemy</span><span class="dl">'</span><span class="p">)</span>

<span class="kd">const</span> <span class="nx">api</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Api</span><span class="p">(</span><span class="dl">'</span><span class="s1">http://example.org/api</span><span class="dl">'</span><span class="p">)</span>
<span class="nx">api</span><span class="p">.</span><span class="nx">errorHandling</span><span class="p">.</span><span class="nx">raiseOnStatusCodes</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">400-403, &gt;404</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">root</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">root</span><span class="p">.</span><span class="nf">get</span><span class="p">()</span>

<span class="k">try</span> <span class="p">{</span>
    <span class="nx">resource</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nf">follow</span><span class="p">(</span><span class="nx">root</span><span class="p">).</span><span class="nf">to</span><span class="p">(</span><span class="dl">'</span><span class="s1">search</span><span class="dl">'</span><span class="p">).</span><span class="nf">get</span><span class="p">()</span>
    <span class="k">if </span><span class="p">(</span><span class="nx">resource</span><span class="p">.</span><span class="nx">_halchemy</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">status_code</span> <span class="o">==</span> <span class="mi">404</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">no results found</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">results found</span><span class="dl">'</span><span class="p">,</span> <span class="nx">resource</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">an error occurred</span><span class="dl">'</span><span class="p">,</span> <span class="nx">e</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div> </li> </ul> <blockquote> <p>NOTE: the commas separating the parts of your status code set are optional. You can use them for readability, but they are not required.</p> </blockquote> <h2 id="per-call-raise-for-status-code"> <a href="#per-call-raise-for-status-code" class="anchor-heading" aria-labelledby="per-call-raise-for-status-code"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Per call raise for status code </h2> <p>In addition to setting the default status codes halchemy will raise exceptions for, you can also manually raise exceptions for specific status codes on a per-call basis. After your request, you can call “raise for status codes”, indicating which status codes should cause an exception.</p> <ul id="example3" class="tab" data-tab="9e61d3be-fd43-4848-9f04-5b4ea8fa0d0c" data-name="example3"> <li class="active" id="example3-python"> <a href="#">Python </a> </li> <li id="example3-javascript"> <a href="#">JavaScript </a> </li> </ul> <ul class="tab-content" id="9e61d3be-fd43-4848-9f04-5b4ea8fa0d0c" data-name="example3"> <li class="active"> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">customer</span> <span class="o">=</span> <span class="n">api</span><span class="p">.</span><span class="nf">follow</span><span class="p">(</span><span class="n">customers</span><span class="p">).</span><span class="nf">to</span><span class="p">(</span><span class="sh">'</span><span class="s">item</span><span class="sh">'</span><span class="p">).</span><span class="nf">with_template_values</span><span class="p">({</span><span class="sh">'</span><span class="s">membershipId</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">A375</span><span class="sh">'</span><span class="p">}).</span><span class="nf">get</span><span class="p">()</span>
<span class="n">customer</span><span class="p">.</span><span class="n">_halchemy</span><span class="p">.</span><span class="nf">raise_for_status_codes</span><span class="p">(</span><span class="sh">'</span><span class="s">400-403, &gt;404</span><span class="sh">'</span><span class="p">)</span>
<span class="c1"># if we make it here, we know the status code is not 400-403 or 405 or above, but might be 404
</span><span class="k">if</span> <span class="n">customer</span><span class="p">.</span><span class="n">_halchemy</span><span class="p">.</span><span class="n">response</span><span class="p">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">404</span><span class="p">:</span>    
    <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">no results found</span><span class="sh">'</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">results found</span><span class="sh">'</span><span class="p">,</span> <span class="n">customer</span><span class="p">)</span>
</code></pre></div></div> </li> <li> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">customer</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nf">follow</span><span class="p">(</span><span class="nx">customers</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">to</span><span class="p">(</span><span class="dl">'</span><span class="s1">item</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">withTemplateValues</span><span class="p">({</span><span class="dl">'</span><span class="s1">membershipId</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">A375</span><span class="dl">'</span><span class="p">})</span>
    <span class="p">.</span><span class="nf">get</span><span class="p">()</span>
<span class="nx">customer</span><span class="p">.</span><span class="nx">_halchemy</span><span class="p">.</span><span class="nf">raiseForStatusCodes</span><span class="p">(</span><span class="dl">'</span><span class="s1">400-403, &gt;404</span><span class="dl">'</span><span class="p">)</span>
<span class="c1">// if we make it here, we know the status code is not 400-403 or 405 or above, but might be 404</span>
<span class="k">if </span><span class="p">(</span><span class="nx">customer</span><span class="p">.</span><span class="nx">_halchemy</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="mi">404</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">no results found</span><span class="dl">'</span><span class="p">)</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">results found</span><span class="dl">'</span><span class="p">,</span> <span class="nx">customer</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div> </li> </ul> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
